{"version":3,"file":"static/js/478.1c5d38db.chunk.js","mappings":"+KAuGA,UAlGA,WACE,IAAMA,GAAUC,EAAAA,EAAAA,YAAWC,EAAAA,GACnBC,GAAOC,EAAAA,EAAAA,MAAPD,GACR,GAA8BE,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACMC,GAAaP,EAAAA,EAAAA,YAAWQ,EAAAA,GACxBC,GAAWC,EAAAA,EAAAA,MACjB,GAA0CN,EAAAA,EAAAA,WAAS,GAAnD,eAAOO,EAAP,KAAsBC,EAAtB,KAmDA,OAtCAC,EAAAA,EAAAA,YAAU,WACR,OAAQX,GACN,UAAKY,EAGL,IAAK,MACHR,GAAW,kBAAMC,EAAWQ,YAC5B,MACF,IAAK,QACHH,GAAiB,kBAAM,KACvB,IAAMI,EAAOC,KAAKC,MAAMC,aAAaC,QAAQ,oBAAhC,KAGPT,EAAgBM,KAAKC,MACzBC,aAAaC,QAAb,UAAwBJ,EAAxB,iBAEe,OAAbL,QAAa,IAAbA,OAAA,EAAAA,EAAeU,QAAS,EAC1Bf,GAAW,kBAAMK,KAEjBL,GAAW,iBAAM,SAMtB,CAACJ,EAAIK,EAAWQ,YAEnBF,EAAAA,EAAAA,YAAU,WACHd,EAAQuB,aACXC,MAAM,yBACNd,EAAS,YAEV,CAACV,EAAQuB,WAAYb,KAExBI,EAAAA,EAAAA,YAAU,WACRW,QAAQC,IAAIlB,EAAWQ,YACtB,CAACR,EAAWQ,YAGb,iBAAKW,UAAU,OAAf,UACGrB,EAAQgB,OAAS,IAChB,eAAIK,UAAU,2DAAd,SACGrB,EAAQsB,KAAI,SAACC,GAAD,OACX,gBAEEF,UAAU,uDAFZ,UAIE,gBAAIA,UAAU,gBAAd,WACE,gBAAKA,UAAU,cAAf,UACE,gBAAKG,IAAI,UAAUC,IAAKF,EAAKG,OAAQL,UAAU,YAEjD,iBAAKA,UAAU,MAAf,WACE,eAAIA,UAAU,+CAAd,SACGE,EAAKZ,QAER,iBAAKU,UAAU,qCAAf,WACE,gBAAIA,UAAU,kBAAd,oBAAmCE,EAAKI,UACtCrB,IACA,mBACEsB,QAAS,kBAtEX,SAAC5B,GACnB,IAAMW,EAAOC,KAAKC,MAAMC,aAAaC,QAAQ,oBAAhC,KACPT,EAAgBM,KAAKC,MAAMC,aAAaC,QAAb,UAAwBJ,EAAxB,gBACjC,GAAKL,EAEE,CACL,IAAMuB,EAAa,kBAAOvB,GAAP,CAAsBN,IACzCc,aAAagB,QAAb,UAAwBnB,EAAxB,cAA0CC,KAAKmB,UAAUF,SAHzDf,aAAagB,QAAb,UAAwBnB,EAAxB,cAA0CC,KAAKmB,UAAU,CAAC/B,KAkEzBgC,CAAYT,IAC3BF,UAAU,mEAFZ,4BAdHE,EAAKU,UA4BE,IAAnBjC,EAAQgB,SACP,cAAGK,UAAU,uBAAb","sources":["pages/Dashboard.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router\";\nimport AuthStore from \"../services/Auth.state\";\nimport ProductStore from \"../services/Product.state\";\n\nfunction Dashboard() {\n  const authCtx = useContext(AuthStore);\n  const { id } = useParams();\n  const [product, setProduct] = useState([]);\n  const productCtx = useContext(ProductStore);\n  const navigate = useNavigate();\n  const [savedProducts, setSavedProducts] = useState(false);\n\n  const saveHandler = (product) => {\n    const name = JSON.parse(localStorage.getItem(\"connectedh_user\"))[\"name\"];\n    const savedProducts = JSON.parse(localStorage.getItem(`${name}_user_item`));\n    if (!savedProducts) {\n      localStorage.setItem(`${name}_user_item`, JSON.stringify([product]));\n    } else {\n      const localProducts = [...savedProducts, product];\n      localStorage.setItem(`${name}_user_item`, JSON.stringify(localProducts));\n    }\n  };\n\n  useEffect(() => {\n    switch (id) {\n      case undefined:\n        setProduct(() => productCtx.products);\n        break;\n      case \"all\":\n        setProduct(() => productCtx.products);\n        break;\n      case \"saved\":\n        setSavedProducts(() => true);\n        const name = JSON.parse(localStorage.getItem(\"connectedh_user\"))[\n          \"name\"\n        ];\n        const savedProducts = JSON.parse(\n          localStorage.getItem(`${name}_user_item`)\n        );\n        if (savedProducts?.length > 0) {\n          setProduct(() => savedProducts);\n        } else {\n          setProduct(() => []);\n        }\n        break;\n      default:\n        break;\n    }\n  }, [id, productCtx.products]);\n\n  useEffect(() => {\n    if (!authCtx.isLoggedIn) {\n      alert(\"you are not logged in\");\n      navigate(\"/auth\");\n    }\n  }, [authCtx.isLoggedIn, navigate]);\n\n  useEffect(() => {\n    console.log(productCtx.products);\n  }, [productCtx.products]);\n\n  return (\n    <div className=\"p-4 \">\n      {product.length > 0 && (\n        <ul className=\"flex flex-col justify-around md:flex-row flex-wrap gap-2\">\n          {product.map((data) => (\n            <div\n              key={data._id}\n              className=\"flex flex-row border rounded-md p-2 m-2 md:w-[250px]\"\n            >\n              <li className=\"flex flex-col\">\n                <div className=\"p-2 mx-auto\">\n                  <img alt=\"nothing\" src={data.imgUrl} className=\"w-24\" />\n                </div>\n                <div className=\"p-2\">\n                  <h2 className=\"text-xl font-light antialiased text-gray-700\">\n                    {data.name}\n                  </h2>\n                  <div className=\"flex flex-row gap-2 justify-evenly\">\n                    <h4 className=\"text-indigo-700\"> â‚¹{data.price}</h4>\n                    {!savedProducts && (\n                      <button\n                        onClick={() => saveHandler(data)}\n                        className=\"px-3 py-2 border rounded-lg hover:bg-indigo-600 hover:text-white\"\n                      >\n                        save\n                      </button>\n                    )}\n                  </div>\n                </div>\n              </li>\n            </div>\n          ))}\n        </ul>\n      )}\n      {product.length === 0 && (\n        <p className=\"text-2xl text-center\">No Product Found</p>\n      )}\n    </div>\n  );\n}\n\nexport default Dashboard;\n"],"names":["authCtx","useContext","AuthStore","id","useParams","useState","product","setProduct","productCtx","ProductStore","navigate","useNavigate","savedProducts","setSavedProducts","useEffect","undefined","products","name","JSON","parse","localStorage","getItem","length","isLoggedIn","alert","console","log","className","map","data","alt","src","imgUrl","price","onClick","localProducts","setItem","stringify","saveHandler","_id"],"sourceRoot":""}