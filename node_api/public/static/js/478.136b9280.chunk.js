"use strict";(self.webpackChunkreact16=self.webpackChunkreact16||[]).push([[478],{478:function(e,t,s){s.r(t);var r=s(982),a=s(885),n=s(791),c=s(871),l=s(86),i=s(319),o=s(184);t.default=function(){for(var e=(0,n.useContext)(l.Z),t=(0,n.useContext)(i.Z),s=(0,c.UO)().id,d=(0,c.s0)(),m=(0,n.useState)([]),u=(0,a.Z)(m,2),x=u[0],g=u[1],h=(0,n.useState)(!1),p=(0,a.Z)(h,2),f=p[0],v=p[1],N=(0,n.useState)(1),y=(0,a.Z)(N,2),j=y[0],w=y[1],S=(0,n.useState)(4),b=(0,a.Z)(S,2),_=b[0],I=b[1],k=j*_,O=k-_,J=x.slice(O,k),C=[],Z=1;Z<=Math.ceil(x.length/_);Z++)C.push(Z);return(0,n.useEffect)((function(){switch(s){case void 0:case"all":v((function(){return!1})),g((function(){return t.products}));break;case"saved":v((function(){return!0}));var e=JSON.parse(localStorage.getItem("SimEcommerce_user")).name,r=JSON.parse(localStorage.getItem("".concat(e,"_user_item")));(null===r||void 0===r?void 0:r.length)>0?g((function(){return r})):g((function(){return[]}))}}),[s,t.products]),(0,n.useEffect)((function(){e.isLoggedIn||(alert("you are not logged in"),d("/auth"))}),[e.isLoggedIn,d]),(0,n.useEffect)((function(){}),[t.products]),(0,o.jsxs)("div",{className:"p-4",children:[(0,o.jsx)("h2",{className:"text-xl md:text-3xl my-3 text-indigo-800 antialiased font-normal md:font-medium",children:f?"Saved Products":"All Products"}),J.length>0&&(0,o.jsx)("div",{className:"flex flex-col",children:(0,o.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,o.jsxs)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:[(0,o.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:(0,o.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,o.jsx)("thead",{className:"bg-gray-50",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,o.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,o.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:(0,o.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,o.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:J.map((function(e){return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"flex-shrink-0 h-20 w-10 md:w-16",children:(0,o.jsx)("img",{className:"w-10 md:w-16 rounded-xl",src:e.imgUrl,alt:""})}),(0,o.jsx)("div",{className:"ml-4",children:(0,o.jsx)("div",{className:"text-sm md:text-xl font-semibold text-gray-600",children:e.name})})]})}),(0,o.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,o.jsxs)("div",{className:"text-lg text-gray-900",children:["\u20b9",e.price]})}),(0,o.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[!f&&(0,o.jsx)("button",{onClick:function(){return function(e){var t=JSON.parse(localStorage.getItem("SimEcommerce_user")).name,s=JSON.parse(localStorage.getItem("".concat(t,"_user_item")));if(s){if(s.findIndex((function(t){return t._id===e._id}))<0){var a=[].concat((0,r.Z)(s),[e]);localStorage.setItem("".concat(t,"_user_item"),JSON.stringify(a))}}else localStorage.setItem("".concat(t,"_user_item"),JSON.stringify([e]))}(e)},className:"px-3 py-2 border rounded-lg hover:bg-indigo-600 hover:text-white text-indigo-800",children:"save"}),f&&(0,o.jsx)("button",{onClick:function(){return function(e){var t=JSON.parse(localStorage.getItem("SimEcommerce_user")).name,s=JSON.parse(localStorage.getItem("".concat(t,"_user_item")));if(s){var r=s.filter((function(t){return t._id!==e._id}));localStorage.setItem("".concat(t,"_user_item"),JSON.stringify(r)),g((function(){return r}))}else alert("product is already deleted or is unavailable!")}(e)},className:"px-3 py-2 border rounded-lg hover:bg-red-600 hover:text-white text-red-600",children:"delete"})]})]},e._id)}))})]})}),(0,o.jsxs)("div",{className:"max-w-xl mx-auto my-2 overflow-x-auto flex flex-row",children:[(0,o.jsx)("input",{className:"w-[220px]",placeholder:"set products per page ".concat(_),onKeyUp:function(e){var t=+e.target.value;Number.isInteger(t)&&t>0&&(console.log(t),I(t))}}),C.map((function(e){return(0,o.jsx)("button",{onClick:function(){return w(e)},className:"border p-2 rounded-sm",children:e},e)}))]})]})})}),0===x.length&&(0,o.jsxs)("p",{className:"text-lg text-gray-500 md:text-2xl text-center",children:["No",f&&" Saved"," Products Found"]})]})}}}]);
//# sourceMappingURL=478.136b9280.chunk.js.map