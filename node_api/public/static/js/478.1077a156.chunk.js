"use strict";(self.webpackChunkreact16=self.webpackChunkreact16||[]).push([[478],{478:function(e,t,s){s.r(t);var r=s(982),a=s(885),n=s(791),c=s(871),i=s(86),l=s(319),d=s(184);t.default=function(){var e=(0,n.useContext)(i.Z),t=(0,c.UO)().id,s=(0,n.useState)([]),o=(0,a.Z)(s,2),m=o[0],u=o[1],x=(0,n.useContext)(l.Z),h=(0,c.s0)(),g=(0,n.useState)(!1),f=(0,a.Z)(g,2),p=f[0],v=f[1];return(0,n.useEffect)((function(){switch(t){case void 0:case"all":v((function(){return!1})),u((function(){return x.products}));break;case"saved":v((function(){return!0}));var e=JSON.parse(localStorage.getItem("connectedh_user")).name,s=JSON.parse(localStorage.getItem("".concat(e,"_user_item")));(null===s||void 0===s?void 0:s.length)>0?u((function(){return s})):u((function(){return[]}))}}),[t,x.products]),(0,n.useEffect)((function(){e.isLoggedIn||(alert("you are not logged in"),h("/auth"))}),[e.isLoggedIn,h]),(0,n.useEffect)((function(){}),[x.products]),(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsx)("h2",{className:"text-xl md:text-3xl my-3 text-indigo-800 antialiased font-normal md:font-medium",children:p?"Saved Products":"All Products"}),m.length>0&&(0,d.jsx)("div",{className:"flex flex-col",children:(0,d.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,d.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:(0,d.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:(0,d.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,d.jsx)("thead",{className:"bg-gray-50",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,d.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,d.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:(0,d.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,d.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map((function(e){return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"flex-shrink-0 h-20 w-10 md:w-16",children:(0,d.jsx)("img",{className:"w-10 md:w-16 rounded-xl",src:e.imgUrl,alt:""})}),(0,d.jsx)("div",{className:"ml-4",children:(0,d.jsx)("div",{className:"text-sm md:text-xl font-semibold text-gray-600",children:e.name})})]})}),(0,d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,d.jsxs)("div",{className:"text-lg text-gray-900",children:["\u20b9",e.price]})}),(0,d.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[!p&&(0,d.jsx)("button",{onClick:function(){return function(e){var t=JSON.parse(localStorage.getItem("connectedh_user")).name,s=JSON.parse(localStorage.getItem("".concat(t,"_user_item")));if(s){if(s.findIndex((function(t){return t._id===e._id}))<0){var a=[].concat((0,r.Z)(s),[e]);localStorage.setItem("".concat(t,"_user_item"),JSON.stringify(a))}}else localStorage.setItem("".concat(t,"_user_item"),JSON.stringify([e]))}(e)},className:"px-3 py-2 border rounded-lg hover:bg-indigo-600 hover:text-white text-indigo-800",children:"save"}),p&&(0,d.jsx)("button",{onClick:function(){return function(e){var t=JSON.parse(localStorage.getItem("connectedh_user")).name,s=JSON.parse(localStorage.getItem("".concat(t,"_user_item")));if(s){var r=s.filter((function(t){return t._id!==e._id}));localStorage.setItem("".concat(t,"_user_item"),JSON.stringify(r)),u((function(){return r}))}else alert("product is already deleted or is unavailable!")}(e)},className:"px-3 py-2 border rounded-lg hover:bg-red-600 hover:text-white text-red-600",children:"delete"})]})]},e._id)}))})]})})})})}),0===m.length&&(0,d.jsxs)("p",{className:"text-lg text-gray-500 md:text-2xl text-center",children:["No",p&&" Saved"," Products Found"]})]})}}}]);
//# sourceMappingURL=478.1077a156.chunk.js.map